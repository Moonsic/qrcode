(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-qrcode-qrcode"],{3860:function(t,e,a){"use strict";var n=a("6213"),s=a.n(n);s.a},6213:function(t,e,a){var n=a("73a4");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=a("4f06").default;s("10e0d6b8",n,!0,{sourceMap:!1,shadowMode:!1})},"73a4":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"uni-page-body[data-v-2c98ecc6]{background-color:#f5f5f5}body.?%PAGE?%[data-v-2c98ecc6]{background-color:#f5f5f5}",""])},"7e11":function(t,e,a){"use strict";a.r(e);var n=a("8728"),s=a("9d68");for(var i in s)"default"!==i&&function(t){a.d(e,t,function(){return s[t]})}(i);a("3860");var c=a("2877"),o=Object(c["a"])(s["default"],n["a"],n["b"],!1,null,"2c98ecc6",null);e["default"]=o.exports},8728:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-body"},[a("m-custom",{attrs:{title:t.pageTitle,titleLeft:!0}},[a("div",{staticClass:"flex-end text-lg"},[a("v-uni-button",{staticClass:"cu-btn bg-white text-lg cuIcon line",on:{click:function(e){e=t.$handleEvent(e),t.scanCode()}}},[a("span",{staticClass:"text-white cuIcon-scan"})]),a("v-uni-button",{staticClass:"cu-btn bg-white text-lg cuIcon line",on:{click:function(e){e=t.$handleEvent(e),t.getAlert()}}},[a("span",{staticClass:"text-white cuIcon-question"})]),a("v-uni-button",{staticClass:"cu-btn bg-white text-lg cuIcon line",attrs:{"open-type":"feedback"}},[a("span",{staticClass:"text-white cuIcon-comment"})]),a("v-uni-button",{staticClass:"cu-btn bg-white text-lg cuIcon line",on:{click:function(e){e=t.$handleEvent(e),t.$openGeiZan()}}},[a("span",{staticClass:"text-white cuIcon-appreciate"})])],1)]),a("div",{staticClass:"h-50"},[a("v-uni-scroll-view",{staticClass:"bg-white nav fixed-top",style:{top:t.customBar+"px"},attrs:{"scroll-x":"","scroll-with-animation":"","scroll-left":"0"}},[a("div",{staticClass:"flex text-center"},t._l(t.tabList,function(e,n){return a("div",{key:n,staticClass:"cu-item flex-sub",class:["text-"+t.theme,n===t.tabItem?"cur":""],on:{click:function(e){e=t.$handleEvent(e),t.tabSelect(n)}}},[a("span",[t._v(t._s(e))])])}),0)])],1),a("div",{staticClass:"padding-top"},[0===t.type?a("v-uni-textarea",{staticClass:"w-per100 h-100 padding-sm bg-white text-lg",attrs:{maxlength:t.maxlength,"auto-height":!1,fixed:!1,placeholder:t.placeholderText},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}):t._e(),1===t.type?a("v-uni-textarea",{staticClass:"w-per100 h-100 padding-sm bg-white text-lg",attrs:{maxlength:t.maxlength,"auto-height":!1,fixed:!1,placeholder:t.placeholderUrl},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}):t._e()],1),0===t.type||1===t.type?a("div",{staticClass:"cu-form-group text-lg",staticStyle:{"padding-left":"10px","padding-right":"10px"}},[a("div",{staticClass:"title"},[t._l(t.textList,function(e,n){return 0===t.type?a("div",{key:n,staticClass:"cu-tag margin-right-xs",class:"line-"+t.theme,on:{click:function(a){a=t.$handleEvent(a),t.putValue(e)}}},[t._v(t._s(e))]):t._e()}),t._l(t.urlList,function(e,n){return 1===t.type?a("div",{key:n,staticClass:"cu-tag margin-right-xs",class:"line-"+t.theme,on:{click:function(a){a=t.$handleEvent(a),t.putValue(e)}}},[t._v(t._s(e))]):t._e()})],2),a("div",[a("span",{staticClass:"text-gray margin-right-sm text-sm"},[t._v(t._s(t.value.length)+"/"+t._s(t.maxlength))]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.value.length,expression:"value.length"}],staticClass:"cuIcon-close text-gray",on:{click:function(e){e=t.$handleEvent(e),t.value=""}}})])]):t._e(),2===t.type?a("div",{staticClass:"cu-form-group text-lg arrow-right h-100",on:{click:function(e){e=t.$handleEvent(e),t.chooseLocation(e)}}},[a("div",{staticClass:"title"},[t._v("选择位置")]),a("span",{staticClass:"flex-sub text-cut-2"},[t._v(t._s(t.address))]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.address.length,expression:"address.length"}],staticClass:"cuIcon-close text-gray margin-right-lg",on:{click:function(e){e.stopPropagation(),e=t.$handleEvent(e),t.address=""}}})]):t._e(),2===t.type?a("div",{staticClass:"cu-form-group arrow-right solid-top",on:{click:function(e){e=t.$handleEvent(e),t.chooseMap(e)}}},[a("div",{staticClass:"title"},[t._v("选择地图")]),a("div",{staticClass:"flex-sub"},[t._v(t._s(t.mapName))])]):t._e(),3===t.type?a("v-uni-form",[a("div",{staticClass:"cu-form-group"},[a("div",{staticClass:"title"},[t._v("姓名")]),a("v-uni-input",{attrs:{placeholder:"必填"},model:{value:t.card.name,callback:function(e){t.$set(t.card,"name",e)},expression:"card.name"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.card.name.length,expression:"card.name.length"}],staticClass:"cuIcon-close text-gray",on:{click:function(e){e=t.$handleEvent(e),t.card.name=""}}})],1),a("div",{staticClass:"cu-form-group solid-top"},[a("div",{staticClass:"title"},[t._v("手机")]),a("v-uni-input",{attrs:{placeholder:"必填"},model:{value:t.card.phoneNum,callback:function(e){t.$set(t.card,"phoneNum",e)},expression:"card.phoneNum"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.card.phoneNum.length,expression:"card.phoneNum.length"}],staticClass:"cuIcon-close text-gray",on:{click:function(e){e=t.$handleEvent(e),t.card.phoneNum=""}}})],1),a("div",{staticClass:"cu-form-group solid-top"},[a("div",{staticClass:"title"},[t._v("电话")]),a("v-uni-input",{attrs:{placeholder:"选填"},model:{value:t.card.tel,callback:function(e){t.$set(t.card,"tel",e)},expression:"card.tel"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.card.tel.length,expression:"card.tel.length"}],staticClass:"cuIcon-close text-gray",on:{click:function(e){e=t.$handleEvent(e),t.card.tel=""}}})],1),a("div",{staticClass:"cu-form-group solid-top"},[a("div",{staticClass:"title"},[t._v("邮箱")]),a("v-uni-input",{attrs:{placeholder:"选填"},model:{value:t.card.email,callback:function(e){t.$set(t.card,"email",e)},expression:"card.email"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.card.email.length,expression:"card.email.length"}],staticClass:"cuIcon-close text-gray",on:{click:function(e){e=t.$handleEvent(e),t.card.email=""}}})],1),a("div",{staticClass:"cu-form-group margin-top"},[a("div",{staticClass:"title"},[t._v("公司名称")]),a("v-uni-input",{attrs:{placeholder:"选填"},model:{value:t.card.companyName,callback:function(e){t.$set(t.card,"companyName",e)},expression:"card.companyName"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.card.companyName.length,expression:"card.companyName.length"}],staticClass:"cuIcon-close text-gray",on:{click:function(e){e=t.$handleEvent(e),t.card.companyName=""}}})],1),a("div",{staticClass:"cu-form-group solid-top"},[a("div",{staticClass:"title"},[t._v("工作地址")]),a("v-uni-input",{attrs:{placeholder:"选填"},model:{value:t.card.companyPosition,callback:function(e){t.$set(t.card,"companyPosition",e)},expression:"card.companyPosition"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.card.companyPosition.length,expression:"card.companyPosition.length"}],staticClass:"cuIcon-close text-gray",on:{click:function(e){e=t.$handleEvent(e),t.card.companyPosition=""}}})],1),a("div",{staticClass:"cu-form-group solid-top"},[a("div",{staticClass:"title"},[t._v("职位")]),a("v-uni-input",{attrs:{placeholder:"选填"},model:{value:t.card.role,callback:function(e){t.$set(t.card,"role",e)},expression:"card.role"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.card.role.length,expression:"card.role.length"}],staticClass:"cuIcon-close text-gray",on:{click:function(e){e=t.$handleEvent(e),t.card.role=""}}})],1),a("div",{staticClass:"cu-form-group margin-top"},[a("div",{staticClass:"title"},[t._v("主页")]),a("v-uni-input",{attrs:{placeholder:"选填"},model:{value:t.card.url,callback:function(e){t.$set(t.card,"url",e)},expression:"card.url"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.card.url.length,expression:"card.url.length"}],staticClass:"cuIcon-close text-gray",on:{click:function(e){e=t.$handleEvent(e),t.card.url=""}}})],1),a("div",{staticClass:"cu-form-group solid-top"},[a("div",{staticClass:"title"},[t._v("备注")]),a("v-uni-input",{attrs:{placeholder:"备注其他信息，如：微信，QQ等"},model:{value:t.card.weixin,callback:function(e){t.$set(t.card,"weixin",e)},expression:"card.weixin"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.card.weixin.length,expression:"card.weixin.length"}],staticClass:"cuIcon-close text-gray",on:{click:function(e){e=t.$handleEvent(e),t.card.weixin=""}}})],1)]):t._e(),4!==t.tabItem?a("div",[a("div",{staticClass:"cu-form-group text-lg margin-top solid-bottom"},[a("div",{staticClass:"title"},[t._v("底部文字")]),a("v-uni-input",{staticClass:"flex-sub radius",attrs:{type:"text",maxlength:"40","adjust-position":!1,placeholder:t.placeholderBottom,"confirm-type":"done"},model:{value:t.valueBottom,callback:function(e){t.valueBottom=e},expression:"valueBottom"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.valueBottom.length,expression:"valueBottom.length"}],staticClass:"cuIcon-close text-gray",on:{click:function(e){e=t.$handleEvent(e),t.valueBottom=""}}})],1),a("div",{staticClass:"cu-form-group text-lg arrow-right",on:{click:function(e){e=t.$handleEvent(e),t.chooseImage(e)}}},[a("div",{staticClass:"title"},[t._v("添加Logo"),a("img",{staticClass:"wh-30",attrs:{src:t.logo,alt:""}})]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.logo.length,expression:"logo.length"}],staticClass:"cuIcon-close text-gray margin-right-lg",on:{click:function(e){e.stopPropagation(),e=t.$handleEvent(e),t.logo=""}}})]),a("div",{staticClass:"padding flex flex-direction"},[a("v-uni-button",{staticClass:"cu-btn lg shadow",class:"bg-"+t.theme,on:{click:function(e){e=t.$handleEvent(e),t.shareQrcode(e)}}},[t.showLoadMoreIcon?t._e():a("span",[t._v("生成二维码")]),t.showLoadMoreIcon?a("span",[t._v("生成中"),a("span",{staticClass:"cuIcon-loading2 iconfont-spin"})]):t._e()])],1)]):t._e(),t.img?a("div",{staticClass:"bg-white"},[a("div",{staticClass:"wh-100vw bg-white flex-center margin-auto"},[a("img",{staticClass:"wh-per60",attrs:{mode:"widthFix",src:t.img},on:{click:function(e){e=t.$handleEvent(e),t.$previewImage(t.img)}}})])]):t._e(),4===t.tabItem?a("div",[a("v-uni-button",{staticClass:"wh-100 bg-white flex-center round",class:"bg-"+t.theme,staticStyle:{margin:"30px auto"},on:{click:function(e){e=t.$handleEvent(e),t.scanCode(e)}}},[a("img",{staticClass:"wh-60",attrs:{mode:"widthFix",src:"/static/images/icon/icon_scan.png"}})]),a("div",{staticClass:"min-h padding-tb-sm line-h-xs margin padding-lr bg-white text-center text-lg radius text-wrap"},[t._v(t._s(t.scanResult))])],1):t._e(),a("div",{staticClass:"cu-tabbar-height w-per100"}),4!==t.tabItem?a("div",{staticClass:"cu-bar tabbar btn-group foot bg-white"},[a("v-uni-button",{staticClass:"cu-btn bg-green shadow-blur round",on:{click:function(e){e=t.$handleEvent(e),t.competeAddText(0)}}},[t._v("预览查看")]),a("v-uni-button",{staticClass:"cu-btn bg-blue shadow-blur round",on:{click:function(e){e=t.$handleEvent(e),t.competeAddText(1)}}},[t._v("直接保存")])],1):t._e(),4===t.tabItem?a("div",{staticClass:"cu-bar tabbar btn-group foot bg-white"},[a("v-uni-button",{staticClass:"cu-btn bg-green shadow-blur round",on:{click:function(e){e=t.$handleEvent(e),t.scanResult=""}}},[t._v("清空")]),a("v-uni-button",{staticClass:"cu-btn bg-blue shadow-blur round",on:{click:function(e){e=t.$handleEvent(e),t.$copy(t.scanResult)}}},[t._v("复制")])],1):t._e(),a("v-uni-canvas",{staticStyle:{position:"absolute",left:"-99999px",background:"#f1f1f1"},style:{width:t.width+"px",height:t.height+"px"},attrs:{"canvas-id":"qrcodeCanvas"}})],1)},s=[];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s})},"9d68":function(t,e,a){"use strict";a.r(e);var n=a("a93b"),s=a.n(n);for(var i in n)"default"!==i&&function(t){a.d(e,t,function(){return n[t]})}(i);e["default"]=s.a},a34a:function(t,e,a){t.exports=a("bbdd")},a93b:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("a34a")),s=a("2f62");function i(t){return t&&t.__esModule?t:{default:t}}function c(t,e,a,n,s,i,c){try{var o=t[i](c),l=o.value}catch(r){return void a(r)}o.done?e(l):Promise.resolve(l).then(n,s)}function o(t){return function(){var e=this,a=arguments;return new Promise(function(n,s){var i=t.apply(e,a);function o(t){c(i,n,s,o,l,"next",t)}function l(t){c(i,n,s,o,l,"throw",t)}o(void 0)})}}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},n=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),n.forEach(function(e){r(t,e,a[e])})}return t}function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var u={name:"qrcode",data:function(){return{pageTitle:"二维码生成神器",showPopup:!1,tabList:["文本","网址","地图","名片","扫一扫"],tabItem:0,showLoadMoreIcon:!1,maxlength:300,type:0,videoAd:null,width:400,height:400,value:"",placeholder:"请输入文本或者网址，如：http://qq.com",placeholderText:"请输入文本",placeholderUrl:"请输入网址，如：http://qq.com",valueBottom:"",placeholderBottom:"选填",logo:"",img:"",alertText:"1.预览查看长按图片可保存、收藏或发送给朋友\n\n2. 喜欢可以右上角“·•·”收藏与转发小程序",latitude:null,longitude:null,address:"",textList:["我爱你","我想你","我喜欢你"],urlList:["http://","https://","https://baidu.com/s?wd="],mapList:["腾讯地图","高德地图","百度地图"],map:0,scanResult:"",card:{name:"",phoneNum:"",tel:"",email:"",weixin:"",qq:"",companyName:"",companyPosition:"",role:"",url:""}}},computed:l({},(0,s.mapState)(["customBar","statusBar","theme"]),{mapName:function(){return this.mapList[this.map]}}),mounted:function(){},methods:{tabSelect:function(t){this.tabItem=t,this.type=t,this.value="",this.address="",this.img="",setTimeout(function(){wx.pageScrollTo({scrollTop:0,duration:200})},0)},changeSwiper:function(t){this.tabItem=t.mp.detail.current,this.type=t.mp.detail.current},getAlert:function(){this.$alert(this.alertText,"使用说明")},scanCode:function(){var t=this;wx.scanCode({success:function(e){console.log(e),t.scanResult=e.result,t.tabItem=4,t.type=4}})},chooseImage:function(){var t=this;wx.chooseImage({count:1,sizeType:["original"],sourceType:["album","camera"],success:function(e){var a=e.tempFilePaths[0];t.logo=a,console.log(a)}})},chooseLocation:function(){var t=this;wx.chooseLocation({type:"gcj02",success:function(e){t.latitude=e.latitude,t.longitude=e.longitude,t.address=e.address,t.putMap(t.map),console.log(t.address)}})},chooseMap:function(){var t=o(n.default.mark(function t(){var e,a;return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=JSON.parse(JSON.stringify(this.mapList)),t.next=3,this.$showActionSheet(e);case 3:a=t.sent,3!==a&&(this.map=a),this.putMap(a);case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),putMap:function(t){0===t&&(this.value="https://apis.map.qq.com/uri/v1/marker?marker=coord:".concat(this.latitude,",").concat(this.longitude,";title:").concat(this.address,";addr:").concat(this.address,"&referer=qrcode")),1===t&&(this.value="https://uri.amap.com/marker?position=".concat(this.longitude,",").concat(this.latitude,"&name=").concat(this.address,"&src=qrcode&coordinate=gaode&callnative=0")),2===t&&(this.value="http://api.map.baidu.com/marker?location=".concat(this.latitude,",").concat(this.longitude,"&title=").concat(this.address,"&content=").concat(this.address,"&output=html&src=qrcode"))},putValue:function(t){this.value=this.value+t},shareQrcode:function(t){var e=this,a="";if(3===this.type){if(""===this.card.name)return this.$toast("请填写姓名");if(""===this.card.phoneNum)return this.$toast("请填写手机号码");this.value="\n            BEGIN:VCARD\n            VERSION:3.0\n            N:".concat(this.card.name,"\n            TEL;CELL:").concat(this.card.phoneNum,"\n            TEL;WORK:").concat(this.card.tel,"\n            EMAIL;TYPE=PREF,INTERNET:").concat(this.card.email,"\n            URL:").concat(this.card.url,"\n            ORG:").concat(this.card.companyName,"\n            TITLE:").concat(this.card.role,"\n            ADR;TYPE=WORK:").concat(this.card.companyPosition,"\n            NOTE:").concat(this.card.weixin,"\n            END:VCARD"),a=this.value}else a=this.value.substring(0,300);var n=this.valueBottom;this.width=400,this.height=400;this.width;var s=this.height,i=0;if(""!==this.valueBottom&&(i=30),t&&"new"===t&&(a=this.placeholder,n=this.placeholderBottom,i=30),""===a)return this.$toast("内容不能为空");this.height+=i,console.log("height",s),console.log("textHeight",i),console.log("value",a.length);var c=this.logo;this.showLoadMoreIcon=!0,this.$QR.api.draw(a,"qrcodeCanvas",this.width,this.height,n,i,c),setTimeout(function(){wx.canvasToTempFilePath({canvasId:"qrcodeCanvas",success:function(t){e.showLoadMoreIcon=!1;var a=t.tempFilePath;e.img=a,setTimeout(function(){wx.pageScrollTo({scrollTop:2e3,duration:200})},100)},fail:function(t){console.error("err",t)}})},300)},competeAddText:function(t){0===t&&this.$previewImage(this.img),1===t&&this.$saveImageToPhotosAlbum(this.img)}},onShareAppMessage:function(t){return{title:"高颜值的二维码生成神器! 制作文本、网址、地图、名片二维码，添加底部文字，添加logo，功能齐全",path:"pages/qrcode/main"}}};e.default=u},bbdd:function(t,e,a){var n=function(){return this||"object"===typeof self&&self}()||Function("return this")(),s=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,i=s&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,t.exports=a("96cf"),s)n.regeneratorRuntime=i;else try{delete n.regeneratorRuntime}catch(c){n.regeneratorRuntime=void 0}}}]);